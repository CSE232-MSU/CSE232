<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab - Functions</title>
    <link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet">
    <link href="/CSE232/assets/css/syntax.css" rel="stylesheet">
    <style>
        #course-calendar {
            text-align: center;
            width: 100%;
        }
        #course-calendar td {
            width: calc(100% / 6);
            height: 60px;
        }
        #course-calendar td:first-child {
            font-weight: 600;
        }
    </style>
</head>
<body class="py-2">
    <nav class="UnderlineNav mx-auto mb-3 position-sticky top-0 bg-white" aria-label="Foo bar" style="max-width: 1000px; z-index: 999;">
    <div class="UnderlineNav-body">
        
            <a class="UnderlineNav-item" href="/CSE232/" >
                Home
            </a>
        
            <a class="UnderlineNav-item" href="/CSE232/syllabus.html" >
                Syllabus
            </a>
        
            <a class="UnderlineNav-item" href="/CSE232/lectures.html" >
                Lectures
            </a>
        
            <a class="UnderlineNav-item" href="/CSE232/labs.html" >
                Labs
            </a>
        
            <a class="UnderlineNav-item" href="/CSE232/setup.html" >
                Setup
            </a>
        
    </div>
    <div class="UnderlineNav-actions">
        <a class="btn btn-sm mr-1" href="https://piazza.com/" role="button" target="_blank">Piazza</a>
        <a class="btn btn-sm" href="https://class.mimir.io/" role="button" target="_blank">Mimir</a>
    </div>
</nav>
    <div class="markdown-body mx-auto" style="max-width: 1000px;">
        <div class="border rounded-2 px-5 py-2 anim-fade-in">
            <h1 id="lab---functions">Lab - Functions</h1>

<h2 id="pagers-and-help">Pagers and Help</h2>

<p>Often, you want to be able to view files in the terminal (instead of opening them in a text editor like Atom or gedit). There are a few ways to view files from the terminal ‚Äì these commands are referred to as <em>pagers</em>.</p>

<h3 id="cat"><code class="language-plaintext highlighter-rouge">cat</code></h3>

<p>The command, <code class="language-plaintext highlighter-rouge">cat</code>, is short for ‚Äúconcatenate‚Äù, which means to link things together. The <code class="language-plaintext highlighter-rouge">cat</code> program is often used to link the output from one program to the input of another. But, another useful trait of <code class="language-plaintext highlighter-rouge">cat</code> is to output the contents of a file to the terminal. Invoking the <code class="language-plaintext highlighter-rouge">cat</code> program is quite simple:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat </span>some_file_name.txt
</code></pre></div></div>

<p>The above command will print the contents of the file to the terminal. However, for large files, <code class="language-plaintext highlighter-rouge">cat</code> is not very user-friendly. You should use a pager instead‚Ä¶</p>

<h3 id="less"><code class="language-plaintext highlighter-rouge">less</code></h3>

<p>Pagers are programs that show you content one <em>page</em> at a time. They are useful for viewing large files. The most popular pager is called <code class="language-plaintext highlighter-rouge">less</code> because it was derived from a program called <code class="language-plaintext highlighter-rouge">more</code>, computer science history is a little silly. You can invoke the <code class="language-plaintext highlighter-rouge">less</code> program like so:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>less some_file_name.txt
</code></pre></div></div>

<p>To go the the next page, push the F key (forward) on your keyboard. To go back a page, push the B key (backwards). To quit the pager and return to the command line, push Q (use your imagination for why it is the Q key).</p>

<p>There are a few programs intended to provide documentation. However, they are often difficult to understand for a beginner. You invoke them by typing the <code class="language-plaintext highlighter-rouge">help</code> command, and the name of the program you want information about. They can open up a pager if the entry is long.</p>

<h3 id="help"><code class="language-plaintext highlighter-rouge">help</code></h3>

<p>This command is used to provide information about <code class="language-plaintext highlighter-rouge">bash</code>, which is the language the terminal is running. Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">help cd</span>
</code></pre></div></div>

<h3 id="man"><code class="language-plaintext highlighter-rouge">man</code></h3>

<p>This command (short for ‚Äúmanual‚Äù) is used to retrieve the documentation about the programs installed on the computer. Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>man python
</code></pre></div></div>

<h3 id="info"><code class="language-plaintext highlighter-rouge">info</code></h3>

<p>This command is an alternative to <code class="language-plaintext highlighter-rouge">man</code>, often used by Unix distributions. Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>info <span class="nb">ls</span>
</code></pre></div></div>

<h3 id="-h"><code class="language-plaintext highlighter-rouge">-h</code></h3>

<p>Many programs will give you a bit of documentation about themselves (like what arguments they accept) if you invoke the program with the <code class="language-plaintext highlighter-rouge">-h</code> flag. Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python <span class="nt">-h</span>
</code></pre></div></div>

<p>‚≠ê Please show your TA the <code class="language-plaintext highlighter-rouge">man</code> entry for the program, <code class="language-plaintext highlighter-rouge">git</code>, then demonstrate paging forward and backward in the entry.</p>

<h2 id="coding-assignment">Coding Assignment</h2>

<h3 id="background">Background</h3>

<p>You remember calculus, don‚Äôt you? The basic concept of an integral is the area under a curve, with the curve represented by some function. If you can integrate a function, you can calculate that area directly. But, for some functions, it is easier to approximate that area using discrete, iterative methods. We are going to investigate one of those methods, the <a href="http://en.wikipedia.org/wiki/Trapezoidal_rule">Trapezoidal Rule</a>.</p>

<p>The basic idea is to draw a series of trapezoids that approximate the area under a curve, where the more trapezoids we draw, the better the approximation.</p>

<p>First, remember how to calculate the area of a trapezoid?</p>

<div align="center">
    <img src="../assets/images/trapezoid.svg" width="40%" />
</div>

<div align="center">
    <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+A_%7B%5Ctext%7Btrapezoid%7D%7D%3D+%5Cfrac%7Ba+%2B+b%7D%7B2%7Dh" alt="A_{\text{trapezoid}}= \frac{a + b}{2}h" />
</div>

<p>¬†</p>

<p>We measure the length of the parallel sides, <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+a" alt="a" /> and <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+b" alt="b" />, then the distance between those parallel sides, <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+h" alt="h" />, add the parallel distances, divide by 2, and multiply everything by <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+h" alt="h" />.</p>

<p>Now, if we were to place some trapezoid underneath a given curve by rotating it 90 degrees, such that the parallel sides are now bounded between the x-axis and the curve‚Ä¶</p>

<div align="center">
    <img src="../assets/images/trapezoidal_rule_init.png" />
</div>

<p>We find that the parallel sides now become the distance from the x-axis to the curve (those black points at the top of the trapezoid, which we‚Äôll call <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+y_1" alt="y_1" /> and <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+y_2" alt="y_2" />), and the height now becomes the distance between the two parallel sides (which we‚Äôll rename to <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+%5CDelta+x+%3D+h" alt="\Delta x = h" />).</p>

<div align="center">
    <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+A_%7B%5Ctext%7Btrapezoid%7D%7D+%3D+%5Cfrac%7By_1+%2B+y_2%7D%7B2%7D+%5CDelta+x" alt="A_{\text{trapezoid}} = \frac{y_1 + y_2}{2} \Delta x" />
</div>

<p>¬†</p>

<p>If we keep adding trapezoids, we can eventually get an approximation for the entire region beneath the curve by summing the areas. And, if we <em>minimize</em> the distance between the two parallel sides, <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+%5CDelta+x" alt="\Delta x" />, for each trapezoid, we can end up with a pretty accurate approximation for the <em>integral</em> of the function this curve is modeling.</p>

<div align="center">
    <img src="../assets/images/trapezoidal_rule.gif" />
</div>

<p>Thus, for a definite integral of a function, <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+f" alt="f" />, bounded between two points on the x-axis, <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+a" alt="a" /> and <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+b" alt="b" />:</p>

<div align="center">
<img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+%5Cint_%7Ba%7D%5E%7Bb%7D+f%28x%29+%5Capprox+%5Csum_%7Bi%3D1%7D%5E%7Bn%7D+%28%5Cfrac%7By_i+%2B+y_%7Bi+%2B+1%7D%7D%7B2%7D+%5CDelta+x%29" alt="\int_{a}^{b} f(x) \approx \sum_{i=1}^{n} (\frac{y_i + y_{i + 1}}{2} \Delta x)" />
</div>

<div align="center">
<img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+%3D+%5Cfrac%7B%5CDelta+x%7D%7B2%7D+%5Csum_%7Bi%3D1%7D%5E%7Bn%7D+%28f%28x_i%29+%2B+f%28x_%7Bi+%2B+1%7D%29%29" alt="= \frac{\Delta x}{2} \sum_{i=1}^{n} (f(x_i) + f(x_{i + 1}))" />
</div>

<div align="center">
<img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+%3D+%5Cfrac%7B%5CDelta+x%7D%7B2%7D%5B%28f%28x_1%29+%2B+f%28x_2%29%29+%2B+%28f%28x_2%29+%2B+f%28x_3%29%29+%2B+...+%2B+%28f%28x_%7Bn-1%7D%29+%2B+f%28x_%7Bn%7D%29%29%5D" alt="= \frac{\Delta x}{2}[(f(x_1) + f(x_2)) + (f(x_2) + f(x_3)) + ... + (f(x_{n-1}) + f(x_{n}))]" />
</div>

<p>¬†</p>

<p>Where <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+n" alt="n" /> is the number of trapezoids, <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+%5CDelta+x+%3D+%5Cfrac%7Bb+-+a%7D%7Bn%7D" alt="\Delta x = \frac{b - a}{n}" />, and <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+x_1+%3D+a" alt="x_1 = a" />, <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+x_2+%3D+a+%2B+%5CDelta+x" alt="x_2 = a + \Delta x" />, <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+x_3+%3D+a+%2B+2%5CDelta+x" alt="x_3 = a + 2\Delta x" />, <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+x_4+%3D+a+%2B+3%5CDelta+x" alt="x_4 = a + 3\Delta x" />, ‚Ä¶</p>

<p>The formula here is an equivalence to the one shown in the animation ‚Äì put into terms that make it easier to program. Can you see how it‚Äôs equivalent to the one in the animation? ü§î</p>

<h3 id="program-specifications">Program Specifications</h3>

<p>There is a Mimir assignment associated with this lab for testing purposes.</p>

<p>You are to write three functions:</p>

<p>¬†</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">double</span> <span class="n">fn</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">)</span>
</code></pre></div></div>

<p>Takes an input, <code class="language-plaintext highlighter-rouge">x</code>, and returns the substitution into the equation <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+-6x%5E2+%2B+5x+%2B+3" alt="-6x^2 + 5x + 3" />. We‚Äôll be using this as our function to integrate over.</p>

<p>¬†</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">double</span> <span class="n">integral</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">)</span>
</code></pre></div></div>

<p>Takes an input, <code class="language-plaintext highlighter-rouge">x</code>, and returns the substitution into the equation <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+-2x%5E3+%2B+%5Cfrac%7B5%7D%7B2%7D+x%5E2+%2B+3x" alt="-2x^3 + \frac{5}{2} x^2 + 3x" />. This is the symbolically-manipulated, ‚Äúactual‚Äù integral function of <code class="language-plaintext highlighter-rouge">fn()</code>. We‚Äôll be using the returns of this function to compare with our approximations.</p>

<p>‚≠ê Please show the TA your <code class="language-plaintext highlighter-rouge">fn()</code> and <code class="language-plaintext highlighter-rouge">integral()</code> functions before moving on.</p>

<p>¬†</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">double</span> <span class="n">trapezoid</span><span class="p">(</span><span class="kt">double</span> <span class="n">a</span><span class="p">,</span> <span class="kt">double</span> <span class="n">b</span><span class="p">,</span> <span class="kt">long</span> <span class="n">n</span><span class="p">)</span>
</code></pre></div></div>

<p>Takes three parameters: the two definite points of the integral, <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code>, and the number of trapezoids, <code class="language-plaintext highlighter-rouge">n</code>. This function calculates the area under the curve (represented by <code class="language-plaintext highlighter-rouge">fn()</code>) given the provided number of trapezoids over the interval from <code class="language-plaintext highlighter-rouge">a</code> to <code class="language-plaintext highlighter-rouge">b</code>. It then returns the sum of the area of trapezoids, i.e., our integral approximation.</p>

<p>¬†</p>

<p>The <code class="language-plaintext highlighter-rouge">main()</code> function should take four values from the user of the program in this exact order (using <code class="language-plaintext highlighter-rouge">std::cin</code>):</p>
<ol>
  <li>The lower boundary of the definite integral, <code class="language-plaintext highlighter-rouge">a</code></li>
  <li>The upper boundary of the definite integral, <code class="language-plaintext highlighter-rouge">b</code></li>
  <li>A floating point <code class="language-plaintext highlighter-rouge">tolerance</code> value</li>
  <li>The number of trapezoids to initially use in the approximation, <code class="language-plaintext highlighter-rouge">n</code></li>
</ol>

<p>You‚Äôll want to run a loop that measures the difference between the actual value of the integration (using <code class="language-plaintext highlighter-rouge">integral()</code>) and the estimated value (from <code class="language-plaintext highlighter-rouge">trapezoid()</code>).</p>

<p>If the difference is within <code class="language-plaintext highlighter-rouge">tolerance</code>, report to the user:</p>
<ol>
  <li><code class="language-plaintext highlighter-rouge">n</code></li>
  <li>The estimate value</li>
  <li>The exact value</li>
  <li>The <code class="language-plaintext highlighter-rouge">tolerance</code></li>
</ol>

<p>If the difference is <em>not</em> within <code class="language-plaintext highlighter-rouge">tolerance</code>, <em>double</em> the value of <code class="language-plaintext highlighter-rouge">n</code> and re-run. Continue the doubling and re-running until the estimate of the <code class="language-plaintext highlighter-rouge">trapezoid()</code> function is within <code class="language-plaintext highlighter-rouge">tolerance</code> of the actual value from <code class="language-plaintext highlighter-rouge">integral()</code>.</p>

<p>All floating point values should have 4 decimal places of precision when displayed.</p>

<p><strong>Hint</strong>: You might want to consider a do-while statement and the <code class="language-plaintext highlighter-rouge">std::abs()</code> function (from the <code class="language-plaintext highlighter-rouge">&lt;cmath&gt;</code> header) in your <code class="language-plaintext highlighter-rouge">main()</code>.</p>

<p>Example output from the <code class="language-plaintext highlighter-rouge">main()</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Lower Range: 0
Upper Range: 1
Tolerance: 0.01
Initial trapezoid count: 1
Intermediate Result:2.5000, traps:1, diff:1.0000
Intermediate Result:3.2500, traps:2, diff:0.2500
Intermediate Result:3.4375, traps:4, diff:0.0625
Intermediate Result:3.4844, traps:8, diff:0.0156
Trap count:16, estimate:3.4961, exact:3.5000, tolerance:0.0100
</code></pre></div></div>

<p>‚≠ê Please show the TA your working program.</p>

<h3 id="assignment-notes">Assignment Notes</h3>

<ol>
  <li>Summations in mathematics are inclusively bounded, meaning that the formula we derived earlier is iterating from 1 to <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+n" alt="n" /> with the 1 <em>and</em> <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+n" alt="n" /> being an eventual substitution for the subscript, <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+i" alt="i" />. Be careful with how you‚Äôre modeling the summation ‚Äì make sure you‚Äôre iterating <em>exactly</em> <code class="language-plaintext highlighter-rouge">n</code> times (it‚Äôs really easy to accidentally iterate <code class="language-plaintext highlighter-rouge">n - 1</code> or <code class="language-plaintext highlighter-rouge">n + 1</code> times).</li>
</ol>

<div align="center">
<img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+%3D+%5Cfrac%7B%5CDelta+x%7D%7B2%7D+%5Csum_%7Bi%3D1%7D%5E%7Bn%7D+%28f%28x_i%29+%2B+f%28x_%7Bi+%2B+1%7D%29%29" alt="= \frac{\Delta x}{2} \sum_{i=1}^{n} (f(x_i) + f(x_{i + 1}))" />
</div>

<p>¬†</p>

<ol>
  <li>Calculate <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+%5CDelta+x" alt="\Delta x" /> at the beginning of <code class="language-plaintext highlighter-rouge">trapezoid()</code> to act as a constant. Then, sum together the series, and multiply that sum by <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+%5Cfrac%7B%5CDelta+x%7D%7B2%7D" alt="\frac{\Delta x}{2}" /> afterwards. It‚Äôll be helpful to have <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+%5CDelta+x" alt="\Delta x" /> sitting around to obtain each <img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Ctextstyle+x_i" alt="x_i" />.</li>
  <li>How do you obtain the exact area again? Remember that:</li>
</ol>

<div align="center">
<img src="https://render.githubusercontent.com/render/math?math=%5Clarge+%5Cdisplaystyle+%5Cint_%7Ba%7D%5E%7Bb%7D+f%28x%29+%3D+F%28b%29+-+F%28a%29" alt="\int_{a}^{b} f(x) = F(b) - F(a)" />
</div>

        </div>
    </div>
    <script src="/CSE232/assets/js/progressbar.js" type="text/javascript"></script>
</body>
</html>